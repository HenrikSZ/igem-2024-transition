{% extends "layout/layout.html" %}
  

{% block content %}
{{ heading("Software") }}

<div>
    {{subheading("I. FSEOF Modification")}}
    <p>
        Given the existing implementation of FSEOF, there are rooms for improvement, both in inaccurate mathematical interpretation of the original research paper, as well as the flexibility to tailor the algorithm to our specific needs.
    </p>
    <p>
        The FSEOF algorithm is based on an important presupposition about the enforced objective: the enforced reaction is assumed to compete with the objective (biomass) reaction.
    </p>
    <p>
        Given the equation to calculate different enforced objectives:
    </p>
    <p>Maximize \(v_{\text{biomass}}\)</p>
    <p>Subject to for \(n, k\) \(\in\) \(\mathbb{N}\) such that \(\forall k < n\) we have \(v_{\text{product}}^{enforced} = v_{\text{product}}^{initial} + \frac{k}{n}(v_{\text{product}}^{max} - v_{\text{product}}^{initial})\)</p>
    <p>\(\forall i \in M, j \in N \implies \sum_{j = 1}^{|N|} S_{ij}v_j = 0\)</p>
<p>
    We have the following:
    <p>If \(v_{\text{product}}^{max} = v_{\text{product}}^{initial}\), then the constraint becomes \(v_{\text{product}}^{enforced} = v_{\text{product}}^{initial}\) because the other terms become zero. Thus, the "enforced" flux becomes completely meaningless since we are simply enforcing it to be equal to itself. Furthermore, if we tried to enforce, not up to the maximal possible flux through the objective reaction, but rather up to a realistic upper bound (approximately 90\% according to {{cite("Choi2010In")}}, the algorithm fails:</p>
    <p>If we are constraining \(v_{\text{product}}^{\text{enforced}} = v_{\text{product}}^{\text{initial}} + \frac{k}{n}(v_{\text{product}}^{\text{max}} \cdot 0.9 - v_{\text{product}}^{\text{initial}})\) and \(v_{\text{product}}^{\text{max}} = v_{\text{product}}^{\text{initial}}\), then \(\frac{k}{n}(v_{\text{product}}^{\text{max}} \cdot 0.9 - v_{\text{product}}^{\text{initial}}) < 0\).</p>

</p>
</div>
<div>
    <p>Therefore, the algorithm would inadvertently enforce a <i>decreasing</i> flux instead of an <i>increasing</i> one. The predicted targets for over-expression would thus not only be biologically irrelevant, but also misleading.</p>

    <p>If the maximum flux through the enforced reaction is the same as the initial flux, the enforced reaction would not be competing against, but rather complementing growth. In other words, the enforced reaction is <i>synergistic</i> with biomass. This makes sense especially in our case, since the reaction we are enforcing is a <i>consumption</i> reaction. Specifically, consumption of a carbon source that gets used in <em>E. coli</em>'s central carbon metabolism. An <i>antagonistic</i> enforced objective would have the opposite effect. We consider this a significant shortcoming of the classical FSEOF as it fails to take into consideration <i>synergistic objectives.</i></p>

    <p>To address the synergistic enforced objective, we set \(v_{\text{product}}^{\text{initial}}\) to zero in the case where \(v_{\text{product}}^{\text{initial}} = v_{\text{product}}^{\text{max}}\). Therefore, the flux is gradually increased from 0 to the maximum. This is rationalized as follows: Even if methanol consumption and biomass are synergistic with each other, there are several reactions in the metabolic network whose flux necessarily increases as methanol consumption increases, but not necessarily as biomass increases. These are the reactions we want to uncover with this fix. For example, flux through the Ribose-5-phosphate isomerase reaction is associated with high methanol consumption (more negative methanol exchange fluxes); nevertheless, high fluxes through this reaction are also associated with smaller biomass fluxes.</p>

</div>
<div>
    <p>
    Another aspect of our particular case that the classical FSEOF failed to consider, was that in GSMMs usually, consumption reactions are set to have negative fluxes. The more negative a flux, through a consumption reaction, the more metabolite is consumed. Hence, the way $v_{product}^{max}$ is calculated must change because the maximum flux is the most negative, which means the optimization problem must be phrased differently.
    </p>
</div>
<div>
    <p>To address this issue, our algorithm changed the calculation of \(v_{\text{product}}^{\text{max}}\) if \(v_{\text{product}}\) is a consumption reaction. \(v_{\text{product}}^{\text{max}}\) is calculated as follows:</p>
    <p>Minimize \(v_{\text{product}}\)</p>
    <p>Subject to:</p>
    <p>\(\forall i \in M, j \in N \implies \sum_{j = 1}^{|N|} S_{ij}v_j = 0\)</p>
    <p>\(v_j^\alpha \leq v_< \leq v_j^\beta\)</p>
    <p>where \(v_j^\alpha\) and \(v_j^\beta\) are the lower and upper bounds for flux in any arbitrary reaction \(v_j\). For non-reversible consumption reactions, \(v_j^\beta = 0\), and for non-reversible production reactions, \(v_j^\alpha = 0\).</p>

</div>
<div>
    <p>Lastly, the classical FSEOF does not provide a very fine ranking of overexpression targets. So, we implemented a rough measure of how much the flux through a given reaction increases/decreases as we scan through enforced objectives: it is simply a linear regression and its associated Pearson Correlation Coefficient (\(r\)) value. The steeper the slope and the higher the \(r\) value, the "better" candidate a reaction is for overexpression.</p>

</div>

<div>
    {{subheading("II. Knockout Algorithm")}}
</div>
<div>
    <p>To search for gene knockout candidates, we begin with the following motivation. Suppose there are two individuals of T-B18 that have growth rates \(\rho\) and \(\rho^*\), where \(\rho < \rho^*\). For a reaction \(r\), consider the fluxes \(v_{r}\) and \(v_{r}^*\) through \(r\) in individuals \(\rho\) and \(\rho^*\), respectively. If</p>
    <p>Suppose there are two individuals of T-B18 that have growth rates \(\rho\) and \(\rho^*\), where \(\rho < \rho^*\). For a reaction \(r\), consider the fluxes \(v_{r}\) and \(v_{r}^*\) through \(r\) in individuals \(\rho\) and \(\rho^*\), respectively. If</p>
<div>
    \[
    \left|v_{r}\right| \gg 0 \quad\text{and}\quad \left|v_{r}^*\right| \approx 0
    \]
</div>
<p>then the reaction \(r\) might be a good knockout target. Intuitively, \(r\) exhibits high flux in the slower-growing individual but low flux in the faster-growing one. Then, knocking it out may encourage the bacteria to adopt a more optimal metabolic flux distribution. We can turn this into gene-level <i>scores</i> by considering for each gene \(g\):</p>
<div>
    \[
    s(g) = \max\{|v_r| \mid r \text{ is a reaction associated with } g\}
    \]
</div>
<p>and defining \(s^*(g)\) analogously. That is, we desire that \(s(g) \gg 0\) and \(s^*(g) \approx 0\).</p>
<p><strong>Implementation.</strong> We use the same T-B18 model and media as described above. We set \(\rho = 0.7\mu\) and \(\rho^* = 0.9\mu\), where \(\mu\) is the optimal simulated growth rate under FBA. An important technicality is that, in the preceding discussion, we presupposed a single flux distribution for each individual. However, the solution space for FBA problems is rarely uniquely determined. Hence, we require another heuristic: the metabolic flux of T-B18 growing on methanol should be minimally rerouted from that of native <i>E. coli</i>, or T-B18 growing on glucose. Specifically, consider the individual with growth rate \(\rho\). Using parsimonious enzyme usage FBA{{cite("lewis2010omic")}} </a>, we first obtain the flux distribution \(\mathbf{v}_0\) of T-B18 growing at rate \(\rho\) on the same media except with glucose instead of methanol. Then, we solve for the fluxes \(\mathbf{v}\) of T-B18 on the original media, but take the solution that minimizes the flux distance \(\|\mathbf{v} - \mathbf{v}_0\|_1\). This is done through the linear minimization of metabolic adjustment algorithm {{cite("cobrav2")}}. We perform the same process for the faster-growing individual.</p>

</div>
{% endblock %}
